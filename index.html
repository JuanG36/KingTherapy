<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KingFisio - Tu Plataforma de Fisioterapia</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Poppins:wght@600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <nav class="navbar navbar-expand-lg navbar-dark bg-primary shadow-sm sticky-top">
    <div class="container">
      <a class="navbar-brand fw-bold" href="#">KingFisio </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <button id="toggle-darkmode" class="btn btn-outline-light ms-3" title="Modo claro/oscuro" style="transition: background 0.3s, color 0.3s;">
  <span id="icon-darkmode">🌙</span>
</button>
          <li class="nav-item"><a class="nav-link" href="#anatomia-3d">Anatomía 3D</a></li>
          <li class="nav-item"><a class="nav-link" href="#cuestionario">Cuestionario</a></li>
          <li class="nav-item"><a class="nav-link" href="#casos-clinicos">Casos Clínicos</a></li>
          <li class="nav-item"><a class="nav-link" href="#biblioteca">Biblioteca</a></li>
          <li class="nav-item"><a class="nav-link" href="#glosario">Glosario</a></li>

        </ul>
      </div>
    </div>
  </nav>

  <header class="bg-light text-dark py-5 text-center">
    <div class="container">
      <h1 class="display-4 fw-bold">Bienvenido a KingFisio</h1>
      <p class="lead">Una plataforma para aprender y repasar sobre la fisioterapia</p>
    </div>
  </header>

  <main class="py-5">
    <div class="container">
      <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

        <div class="col">
          <div class="card h-100 text-center feature-card">
            <div class="card-body">
              <h2 class="display-5">🦴</h2>
              <h5 class="card-title">Anatomía 3D</h5>
              <p class="card-text">Busca lo que necesites en este modelo.</p>
              <a href="#anatomia-3d" class="btn btn-outline-primary">Explorar</a>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card h-100 text-center feature-card">
            <div class="card-body">
              <h2 class="display-5">📝</h2>
              <h5 class="card-title">Cuestionario</h5>
              <p class="card-text">Pon a prueba tus conocimientos con preguntas por nivel.</p>
              <a href="#cuestionario" class="btn btn-outline-primary">Comenzar</a>
            </div>
          </div>
        </div>

        <div class="col">
            <div class="card h-100 text-center feature-card">
              <div class="card-body">
                <h2 class="display-5">👨‍⚕️</h2>
                <h5 class="card-title">Casos Clínicos</h5>
                <p class="card-text">Aplica tu conocimiento a situaciones del mundo real.</p>
                <a href="#casos-clinicos" class="btn btn-outline-primary">Analizar</a>
              </div>
            </div>
          </div>

        <div class="col">
          <div class="card h-100 text-center feature-card">
            <div class="card-body">
              <h2 class="display-5">📚</h2>
              <h5 class="card-title">Biblioteca</h5>
              <p class="card-text">Accede a guías, resúmenes y documentos clave.</p>
              <a href="#biblioteca" class="btn btn-outline-primary">Consultar</a>
            </div>
          </div>
        </div>

        <div class="col">
          <div class="card h-100 text-center feature-card">
            <div class="card-body">
              <h2 class="display-5">📖</h2>
              <h5 class="card-title">Glosario</h5>
              <p class="card-text">Busca y encuentra definiciones de términos al instante.</p>
              <a href="#glosario" class="btn btn-outline-primary">Buscar</a>
            </div>
          </div>
        </div>
<div class="col">
  <div class="card h-100 text-center feature-card">
    <div class="card-body">
      <h2 class="display-5">🧪</h2>
      <h5 class="card-title">Mini Quiz Clínico</h5>
      <p class="card-text">Pon a prueba tus conocimientos sobre pruebas funcionales, de resistencia y específicas.</p>
      <a href="#mini-quiz" class="btn btn-outline-primary">Jugar Mini Quiz</a>
    </div>
  </div>
</div>
      </div>
    </div>
  </main>

  <div id="secciones-contenido">
    <section id="anatomia-3d" class="py-5 bg-light"><div class="container">
    <h2 class="mb-4 text-center">🦴 Anatomía 3D Interactiva</h2>
    <p class="text-center text-muted mb-5">Explora el cuerpo humano. Rota, haz zoom y selecciona estructuras para aprender sobre ellas aunque de momento en ingles.</p>

    <div class="row justify-content-center">
      <div class="col-12">
        <div class="ratio ratio-16x9 shadow rounded">
 <iframe 
  src="https://human.biodigital.com/widget/?be=4Y1A&ui-tools=true&ui-fullscreen=true&ui-logo=false&lang=es&dk=b2d838fcb2f23eb3decb6690c4e66f67897bb1b0" 
  title="Visor de Anatomía 3D"
  allowfullscreen>
</iframe>
        </div>
      </div>
    </div>
  </div> </section>
    <section id="cuestionario" class="py-5"> <div class="container">
    <h2 class="mb-4">📝 Cuestionario</h2>
    <p class="text-muted">Pon a prueba tus conocimientos. Responde 30 preguntas.</p>

    <!-- Botones de nivel -->
    <div class="mb-3">
  <button class="btn btn-success me-2" onclick="startQuiz('basico')">Nivel Básico</button>
  <button class="btn btn-warning me-2" onclick="startQuiz('intermedio')">Nivel Intermedio</button>
  <button class="btn btn-danger" onclick="startQuiz('dificil')">Nivel Difícil</button>
</div>


    <!-- Contenedor del cuestionario -->
    <div id="quiz-container" class="mt-4"></div>
  </div></section>
  <section id="casos-clinicos" class="py-5 bg-light">
  <div class="container">
    <h2 class="mb-4 text-center">👨‍⚕️ Casos Clínicos</h2>
    <p class="text-center text-muted mb-5">Navega entre los casos, escribe tu plan de tratamiento y recibe feedback.</p>

    <div class="row justify-content-center">
      <div class="col-lg-9">
        <div class="card shadow-sm">
          <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
            <strong id="caso-titulo">Cargando caso...</strong>
            <span id="caso-categoria" class="badge bg-light text-primary"></span>
          </div>
          <div class="card-body">
            <p><strong>Presentación:</strong> <span id="caso-presentacion"></span></p>
            <p><strong>Evaluación:</strong> <span id="caso-evaluacion"></span></p>
            <hr>
            
            <div class="mb-3">
              <label for="respuesta-alumno" class="form-label fw-bold">Propón tu plan de tratamiento:</label>
              <textarea class="form-control" id="respuesta-alumno" rows="6" placeholder="Describe tu abordaje basado en la presentación y evaluación..."></textarea>
            </div>
            
            <button id="btn-evaluar-ia" class="btn btn-success w-100 mb-3">
              <span id="btn-evaluar-texto">Evaluar con IA</span>
              <span id="btn-evaluar-spinner" class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
            </button>

            <div id="feedback-ia-container"></div>
          </div>

          <div class="card-footer d-flex justify-content-between">
            <button class="btn btn-outline-secondary" id="btn-caso-anterior">← Anterior</button>
            <span id="caso-contador" class="align-self-center text-muted"></span>
            <button class="btn btn-outline-secondary" id="btn-caso-siguiente">Siguiente →</button>
          </div>
<script src="js/casos-clinicos-data.js"></script>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<script src="js/script.js"></script>
        </div>
      </div>
    </div>
  </div>
</section>
    <section id="biblioteca" class="py-5"><div class="container">
    <h2 class="mb-4 text-center">📚 Biblioteca de Contenido</h2>
    <p class="text-center text-muted mb-5">Explora nuestra colección de recursos, guías y libros clave para tu formación.</p>

    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4">

      <div class="col">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Exploración Clínica en Ortopedia</h5>
            <p class="card-text text-muted">Una guía esencial para la evaluación y diagnóstico en ortopedia.</p>
            <a href="pdfs/exploracion_clinica_ortopedia.pdf" target="_blank" class="btn btn-primary mt-auto">Ver PDF</a>
          </div>
        </div>
      </div>

      <div class="col">
        <div class="card h-100 shadow-sm">
          <div class="card-body d-flex flex-column">
            <h5 class="card-title">Entrenamiento Propioceptivo</h5>
            <p class="card-text text-muted">Técnicas y ejercicios para mejorar la propiocepción y prevenir lesiones.</p>
            <a href="pdfs/entrenamiento_propioceptivo.pdf" target="_blank" class="btn btn-primary mt-auto">Ver PDF</a>
          </div>
        </div>
      </div>

      </div>
  </div>
 </section>
    <section id="glosario" class="py-5 bg-light"> <div class="container">
    <h2 class="mb-4 text-center">📖 Glosario de Términos</h2>
    <p class="text-center text-muted mb-5">Encuentra rápidamente la definición de los términos clave en fisioterapia.</p>

    <div class="row justify-content-center mb-4">
      <div class="col-lg-8">
        <input type="text" id="buscadorGlosario" class="form-control form-control-lg" placeholder="Escribe un término para buscar...">
      </div>
    </div>

    <div class="row">
      <div class="col-lg-8 mx-auto">
  <dl id="listaGlosario"></dl>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
  <script src="js/glosario-data.js"></script>
  <script src="js/script.js"></script>
      </div>
    </div>
  </div>
 </section>
 <section id="mini-quiz" class="py-5">
      <div class="container">
        <h2 class="mb-4 text-center">🧪 Mini Quiz de Pruebas Clínicas</h2>
        <p class="text-center text-muted mb-4">Selecciona el tipo de prueba y responde preguntas tipo Kahoot.</p>
        <div class="row justify-content-center mb-4">
          <div class="col-md-8 text-center">
            <button class="btn btn-primary m-2" onclick="startMiniQuiz('funcionales')">Pruebas Funcionales</button>
            <button class="btn btn-success m-2" onclick="startMiniQuiz('resistencia')">Pruebas de Resistencia</button>
            <button class="btn btn-warning m-2" onclick="startMiniQuiz('especificas')">Pruebas Específicas</button>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-md-8">
            <div id="mini-quiz-container"></div>
          </div>
        </div>
      </div>
    </section>

  </div>


  <!-- Foro de comentarios -->
  <section id="foro" class="py-5 bg-light">
    <div class="container">
      <h2 class="mb-4 text-center">💬 Foro de Comentarios y Sugerencias</h2>
      <p class="text-center text-muted mb-4">Comparte tus dudas, sugerencias o retroalimentación para mejorar la app.</p>
      <div class="row justify-content-center">
        <div class="col-md-8">
          <form id="form-comentario" class="mb-4">
            <div class="mb-3">
              <input type="text" id="nombre-usuario" class="form-control" maxlength="30" placeholder="Tu nombre o apodo (opcional)">
            </div>
            <div class="mb-3">
              <textarea id="texto-comentario" class="form-control" rows="3" maxlength="300" placeholder="Escribe tu comentario o sugerencia..." required></textarea>
            </div>
            <button type="submit" class="btn btn-primary w-100">Enviar comentario</button>
          </form>
          <div id="lista-comentarios"></div>
        </div>
      </div>
    </div>
  </section>

  <footer class="bg-dark text-white text-center py-4">
    <div class="container">
      <p class="mb-0">© 2025 KingFisio - Una Herramienta para Estudiantes</p>
      <p>Desarrollado por JuanG36</p>
    </div>
  </footer>

 <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script src="js/glosario-data.js"></script>
<script src="js/casos-clinicos-data.js"></script>


<script src="js/script.js"></script>
<script>
  // Modo claro/oscuro
  const darkModeBtn = document.getElementById('toggle-darkmode');
  const iconDarkmode = document.getElementById('icon-darkmode');
  function setDarkMode(active) {
    document.body.classList.toggle('darkmode', active);
    iconDarkmode.textContent = active ? '☀️' : '🌙';
    localStorage.setItem('darkmode', active ? '1' : '0');
  }
  if (darkModeBtn) {
    darkModeBtn.addEventListener('click', () => {
      setDarkMode(!document.body.classList.contains('darkmode'));
    });
    // Estado inicial
    if (localStorage.getItem('darkmode') === '1') setDarkMode(true);
  }

  // Foro de comentarios (localStorage)
  const formComentario = document.getElementById('form-comentario');
  const listaComentarios = document.getElementById('lista-comentarios');
  function renderComentarios() {
    const comentarios = JSON.parse(localStorage.getItem('foroComentarios') || '[]');
    if (comentarios.length === 0) {
      listaComentarios.innerHTML = '<div class="alert alert-info text-center">Aún no hay comentarios. ¡Sé el primero en participar!</div>';
      return;
    }
    listaComentarios.innerHTML = comentarios.map(c => `
      <div class="card mb-3 shadow-sm">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-2">
            <strong>${c.nombre ? c.nombre : 'Anónimo'}</strong>
            <span class="text-muted" style="font-size:0.9em;">${c.fecha}</span>
          </div>
          <div>${c.texto}</div>
        </div>
      </div>
    `).join('');
  }
  if (formComentario) {
    formComentario.addEventListener('submit', function(e) {
      e.preventDefault();
      const nombre = document.getElementById('nombre-usuario').value.trim();
      const texto = document.getElementById('texto-comentario').value.trim();
      if (!texto) return;
      const fecha = new Date().toLocaleString('es-MX', { dateStyle: 'short', timeStyle: 'short' });
      const nuevo = { nombre, texto, fecha };
      const comentarios = JSON.parse(localStorage.getItem('foroComentarios') || '[]');
      comentarios.unshift(nuevo);
      localStorage.setItem('foroComentarios', JSON.stringify(comentarios));
      formComentario.reset();
      renderComentarios();
    });
    renderComentarios();
  }
</script>
</body>
</html>